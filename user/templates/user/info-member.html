{% extends 'user/layouts/master.html' %}
{% block content %}
{% load static %}

<!-- side bar -->
<div id="sidebar" class="active">
    <div class="sidebar-wrapper active ps ps--active-y">
        <div class="sidebar-header">
            <div class="justify-content-between">
                <div class="logo mb-3 text-center">
                    {% comment %} <img src="{{user.member.img.url }}" class="myimg" /> {% endcomment %}
                    <img src="{% static 'images/logo/logooo.png' %}" style="width:auto; height:200px"alt="Logo">
                </div>
                <div class="toggler">
                    <a href="#" class="sidebar-hide d-xl-none d-block"><i class="bi bi-x bi-middle"></i></a>
                </div>
            </div>
        </div>
        <div class="sidebar-menu">
            <ul class="menu">
                <li class="sidebar-title">Menu</li>

                <li class="sidebar-item">
                    <a href="{% url 'dashboard' %}" class="sidebar-link">
                        <i class="bi bi-grid-fill"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
{% if user.is_staff %}
                <li class="sidebar-item has-sub active">
                    <a href="#" class="sidebar-link">
                        <i class="bi bi-people-fill"></i>
                        <span>Members</span>
                    </a>
                    <ul class="submenu" style="display: none;">
                        <li class="submenu-item">
                            <a href="{% url 'add-member' %}">Add Member</a>
                        </li>
                        
                        <li class="submenu-item">
                            <a href="{% url 'all-members' %}">All Members</a>
                        </li>
                        <li class="submenu-item">
                            <a href="{% url 'member-requests' %}">Member Requests</a>
                        </li>
                        <li class="submenu-item active">
                            <a href="{% url 'manage-members' %}">Manage Members</a>
                        </li>
                    </ul>
                </li>
{% endif %}
{% if user.is_superuser %}
                <li class="sidebar-item has-sub">
                    <a href="#" class="sidebar-link">
                        <i class="bi bi-people-fill"></i>
                        <span>Users</span>
                    </a>
                    <ul class="submenu" style="display: none;">
 
                        <li class="submenu-item">
                            <a href="{% url 'active-users' %}">Active Users</a>
                        </li>
                        <li class="submenu-item">
                            <a href="{% url 'blocked-users' %}">Blocked Users</a>
                        </li>
                    <li class="submenu-item">
                        <a href="{% url 'manage-users' %}">Manage Users</a>
                    </li>
                    </ul>
                </li>
                {% endif %}
                <li class="sidebar-item  has-sub">
                    <a href="#" class="sidebar-link">
                        <i class="bi bi-pie-chart-fill"></i>
                        <span>Reports</span>
                    </a>
                    <ul class="submenu ">
                        <li class="submenu-item ">
                            <a href="{% url 'sex-report' %}">Gender Report</a>
                        </li>
                        <li class="submenu-item ">
                            <a href="{% url 'brgy-report' %}">Barangay Report</a>
                        </li>
                        <li class="submenu-item">
                            <a href="{% url 'status-report' %}">Status Report</a>
                        </li>
                    </ul>
                </li>

            
                <hr>
                {% if user.is_authenticated %}
                <li class="sidebar-item">
                     <a href="{% url 'logout' %}" class="sidebar-link" onclick="return confirm('Logout?')">
                        <i class="bi bi-window close-fill"></i>
                        <span class="text-danger">Logout</span>
                    </a>
                </li>
                {% endif %}

                
            </ul>
        </div>
</div>
</div>

<!-- top nav -->
<div class="page-heading">
    <div class="page-title">
        <div class="row">
            <div class="col-12 col-md-6 order-md-1 order-last">
                <h3>View Member</h3>
            </div>
            <div class="col-12 col-md-6 order-md-2 order-first">
                <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Members</li>
                        <li class="breadcrumb-item active" aria-current="page">View Member</li>
                    </ol>
                    <div class="col-md-12 offset-md-10 mt-1">
                        <button onclick="printDiv('printableArea')" class="btn btn-secondary" data-bs-toggle="tooltip" data-bs-placement="top"
                        title="Print"><i class="bi bi-printer"></i></button>
                    </div>
                </nav>
            </div>
        </div>
    </div>

<style>
  .roundedImage {
    overflow:hidden;
    border-radius:50%;
    width:200px;
    height:200px;
    border:4px solid #607080;
}
</style>
<div class="col-md-2 order-md-4 mb-2">
</div>
 <!-- Basic Horizontal form layout section start -->
 <section id="basic-horizontal-layouts">
  <div class="row match-height">
      <div class="col-md-4 col-12">
          <div class="card">
              <div class="card-header">
                  Profile Picture
              </div>
              <div class="card-content">
                  <div class="card-body">
                      <form class="form form-horizontal">
                          <div class="form-body">
                              <div class="row">
                                <div class="text-center">
                                    <img src="{{ member.img.url }}" class="roundedImage" alt="" srcset="">
                                </div>
                                <div class="mt-3 text-center">
                                  <label><h5>{{member.first_name }} {{member.middle_name }} {{ member.last_name }} </h5></label>
                                </div>
                                <div class="text-center text-muted">
                                  <label>FSCAP-{{member.id}}</label>
                                </div>
                              </div>
                          </div>
                      </form>
                      
                  </div>
              </div>
          </div>
          <style>
            .card {
                box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50 / 15%);
            }
            .card .card-header {
                font-weight: 500;
            }
            .card-header:first-child {
                border-radius: 0.35rem 0.35rem 0 0;
            }
            .card-header {
                padding: 1rem 1.35rem;
                margin-bottom: 0;
                background-color: rgba(33, 40, 50, 0.03);
                border-bottom: 1px solid rgba(33, 40, 50, 0.125);
            }
            .form-control, .dataTable-input {
                display: block;
                width: 100%;
                padding: 0.875rem 1.125rem;
                font-size: 0.875rem;
                font-weight: 400;
                line-height: 1;
                color: #69707a;
                background-color: #fff;
                background-clip: padding-box;
                border: 1px solid #c5ccd6;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                border-radius: 0.35rem;
                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            }
        </style>
{% if user.is_superuser %}
          <div class="row">
            <div class="col-md-6">
            <a class="btn btn-secondary btn-block shadow"  href="{% url 'manage-users' %}">Back</a>
            </div> 
{% endif %}
            {% if user.is_staff%}
            <div class="row">
                <div class="col-md-6">
                <a class="btn btn-secondary btn-block shadow"  href="{% url 'member-requests' %}">Back</a>
                </div> 
            <div class="col-md-6">
                <a class="btn btn-primary btn-block shadow" href="{% url 'update-member' member.pk %}" onclick="return confirm('Edit member?')">Edit</a>
                </div>         
                {% endif%}
        </div> 
      </div>
      <div class="col-md-8 col-12">
          <div class="card">
            <div class="card-header">
                  Account Details
              </div>
              <div class="card-content">
                  <div class="card-body">
                      <form class="form form-horizontal">
                          <div class="form-body">
                              <div class="col-12 col-md-6">
                                  <ul class="list-group">
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Name:</strong> {{member.first_name|title }} {{member.middle_name|title }} {{ member.last_name|title }} {{ member.name_ext|title}}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Sex:</strong> {{ member.get_sex_display }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Barangay:</strong> {{ member.get_barangay_display }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Date of Birth:</strong> {{ member.date_of_birth }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Place of Birth:</strong> {{ member.place_of_birth|title }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Contact Number:</strong> {{ member.contact_number }}</li>                             
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Sex:</strong> {{ member.get_sex_display }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Civil Status:</strong> {{ member.get_civilstatus_display }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Occupation:</strong> {{ member.occupation|title }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Skills: </strong> &nbsp; {{ member.skills|title }}</li>
                                    <li class="list-group-item border-0 ps-0 text-md"><strong>Annual Income:</strong> {{ member.annual_income }}</li>
                                  </ul>
                              </div>
                          </div> 
                      </form>
                    
                     
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
<section id="basic-horizontal-layouts">
    <div class="row match-height">
        <div class="col-md-8 col-12 offset-md-4">
            <div class="card">
                <div class="card-header" ><b>Uploaded documents</b></div>
                <style>
                .card {
                    box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50 / 15%);
                }
                .card .card-header {
                    font-weight: 500;
                }
                .card-header:first-child {
                    border-radius: 0.35rem 0.35rem 0 0;
                }
                .card-header {
                    padding: 1rem 1.35rem;
                    margin-bottom: 0;
                    background-color: rgba(33, 40, 50, 0.03);
                    border-bottom: 1px solid rgba(33, 40, 50, 0.125);
                }
                .form-control, .dataTable-input {
                    display: block;
                    width: 100%;
                    padding: 0.875rem 1.125rem;
                    font-size: 0.875rem;
                    font-weight: 400;
                    line-height: 1;
                    color: #69707a;
                    background-color: #fff;
                    background-clip: padding-box;
                    border: 1px solid #c5ccd6;
                    -webkit-appearance: none;
                    -moz-appearance: none;
                    appearance: none;
                    border-radius: 0.35rem;
                    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
                }
            </style>
                <div class="card-content">
                    <div class="card-body">
                        <a href="{{ member.documents.url }}" download> Download File</a>
                          
                                {% comment %} <div class="col-12 col-md-6 order-md-4 order-last"> {% endcomment %}

                </div>
            </div>
    </div>
  </section>
    <section>
        <div style="display: none">
        <div class="card" id="printableArea" >
        <div class="row">
          <div class="col-md-12">
            <hr>
            <div class="row" style="text-align: center;">
              <p>Republic of the Philippines <br />
                Province of Cagayan <br />
                <b>OFFICE OF SENIOR CITIZENS AFFAIRS </b><br />
                Gonzaga, Cagayan </p>

            </div>
            <img src="{{ member.img.url }}" class="roundedImage" alt="" srcset="" style="float:right;" width="100">
            <hr>
            <h2 align="center"> APPLICANT INFORMATION RECORD </h2>
            <hr>
            <table align="center">
                <tr class="mt-0" style="font-family: Times New Roman; font-weight: bold;">
                    <th class="col-3">{{member.last_name| upper}} </th>
                    <th class="col-3"> {{member.first_name| upper}} </th>
                    <th class="col-3">{{member.middle_name| upper}}</th>
                    <th class="col-3">{{member.name_ext| upper}} </th>
                  </tr>
             <tr style="font-weight: normal;">
                <th class="col-4"> <p>Last Name</p> </th>
                <th class="col-4"> First Name </th>
                <th class="col-3"> Middle Name </th>
                <th class="col-1"> Name Extension </th>
              </tr>
            </table>
    
      
            <h1> </h1>
            <div class="columna">
              <b>DATE OF BIRTH: </b> {{ member.date_of_birth }}
            </div>
            <div class="columna" align="center">
              {% comment %} <b> AGE: </b> {{ member.age }} {% endcomment %}
            </div>
            <div class="columna" align="center">
              <b> SEX: </b> {{ member.get_sex_display }}
            </div>
      
            <div class="column">
              <b>PLACE OF BIRTH: </b> {{ member.place_of_birth|title }}
            </div>
            <div class="column" align="center">
              <b> CONTACT NO.: </b> {{ member.contact_number|upper }}
            </div>
            <div class="column" align="left">
              <b> CIVIL STATUS: </b> {{ member.get_civilstatus_display }}
            </div>
            <h1> </h1>
            <div class="column">
              <b>OCCUPATION:</b>{{ member.occupation}}
            </div>
            <div class="column" align="center">
              <b>ANNUAL INCOME:</b> {{ member.annual_income }}
            </div>
      
            <div class="row" align="center">
            </div>
            <h1> </h1>
            <div class="column">
              <b>SKILLS:</b> {{ member.skills }}
            </div>
      
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
          </div>
        </div>
      </div>
    </div>
</section>
  <div class="no-print" style="display:none;" id="printableArea">
    {% comment %} <script>
  window.print();
</script> {% endcomment %}

</div>

<!-- // Basic Horizontal form layout section end -->
    <!-- add-member form -->
<script>
    function printDiv(divName){
        var printContents = document.getElementById(divName).innerHTML;
        var originalContents = document.body.innerHTML;
    
        document.body.innerHTML = printContents;
    
        window.print();
    
        document.body.innerHTML = originalContents;
    
        }    
</script>

</div>
{% endblock %}